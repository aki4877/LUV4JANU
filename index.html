<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy 5 Months, Janu 💖</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      overflow: hidden;
      height: 100vh;
      font-family: 'Great Vibes', cursive;
      color: #fff;
      transition: background 2s ease-in-out;
    }

    .hearts {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
    }

    .heart {
      color: #ff4d6d;
      font-size: 2rem;
      position: absolute;
      bottom: -20px;
      animation: rise 10s linear infinite;
    }

    @keyframes rise {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-120vh) scale(1.5); opacity: 0; }
    }

    .text, .slide, .poem {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 5;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      text-align: center;
      padding: 0 20px;
    }

    .text.show,
    .slide.show,
    .poem.show {
      opacity: 1;
    }

    .text {
      font-size: 3em;
      color: #fff;
    }

    .image {
      max-width: 70vw;
      max-height: 60vh;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(255, 192, 203, 0.6);
    }

    .caption {
      font-size: 2.5em;
      color: #f5f5f5;
      margin-top: 30px;
      max-width: 80%;
    }

    .poem {
      font-size: 2.5em;
      color: #f5f5f5;
      font-style: italic;
      max-width: 80%;
      margin-top: 20px;
      opacity: 0;
      transition: opacity 2s ease-in-out;
    }

    #slideshow {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: 5;
    }

    audio {
      display: none;
    }

    #play-music-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 10;
      background: rgba(255, 192, 203, 0.8);
      color: #fff;
      padding: 8px 15px;
      border-radius: 10px;
      font-size: 1.5em;
      font-family: 'Great Vibes', cursive;
      cursor: pointer;
      border: none;
      box-shadow: 0 0 10px rgba(255, 192, 203, 0.6);
    }
  </style>
</head>
<body>

  <!-- HEART ANIMATION -->
  <div class="hearts" id="hearts-container"></div>

  <!-- INTRO TEXTS -->
  <div class="text" id="intro1">My dearest Janu</div>
  <div class="text" id="intro2">5 months together</div>
  <div class="text" id="intro3">Every day with you is magic</div>
  <div class="text" id="intro4">You are my heart, my peace</div>
  <div class="text" id="intro5">Here’s to forever, my love 💖</div>

  <!-- SLIDESHOW -->
  <div id="slideshow"></div>

  <!-- FINAL POEM -->
  <div class="poem" id="poem-text">
    You are the sun that lights my sky, <br>
    The one I hold, the one I’ll try, <br>
    Every heartbeat, every breath, <br>
    I’ll love you through life and death. <br>
    From now until eternity, <br>
    It’s you and me, forever to be.
  </div>

  <!-- MUSIC -->
  <audio id="background-music" loop>
    <source src="music.mp3" type="audio/mpeg">
    <source src="music.ogg" type="audio/ogg">
    Your browser does not support the audio element.
  </audio>

  <!-- PLAY MUSIC BUTTON -->
  <button id="play-music-button">Play Music</button>

  <script>
    // HEART ANIMATION
    const heartContainer = document.getElementById('hearts-container');
    for (let i = 0; i < 40; i++) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerText = '❤️';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (5 + Math.random() * 5) + 's';
      heartContainer.appendChild(heart);
    }

    // AUDIO HANDLING
    const audio = document.getElementById('background-music');
    const playButton = document.getElementById('play-music-button');

    playButton.addEventListener('click', () => {
      audio.play().then(() => {
        playButton.style.display = 'none'; // Hide button after playback starts
      }).catch(error => {
        console.error('Audio playback failed:', error);
      });
    });

    // Log audio loading errors
    audio.addEventListener('error', () => {
      console.error('Audio file failed to load. Check if music.mp3 or music.ogg exists in the correct directory.');
    });

    // INTRO TEXT SEQUENCE
    const intros = [
      document.getElementById('intro1'),
      document.getElementById('intro2'),
      document.getElementById('intro3'),
      document.getElementById('intro4'),
      document.getElementById('intro5')
    ];

    let currentIntro = 0;
    function showIntro() {
      if (currentIntro > 0) intros[currentIntro - 1].classList.remove('show');
      if (currentIntro < intros.length) {
        intros[currentIntro].classList.add('show');
        currentIntro++;
        setTimeout(showIntro, 2500);
      } else {
        setTimeout(startSlideshow, 2000);
      }
    }

    window.onload = showIntro;

    // SLIDESHOW
    const captions = [
      "The day it all began — your smile changed everything.",
      "Our first photo together — I knew we were something special.",
      "Laughing like kids, loving like soulmates.",
      "Late night talks, sleepy eyes, full hearts.",
      "You looked at me like I was home.",
      "A stolen kiss, forever etched in my mind.",
      "Holding your hand felt like holding the universe.",
      "Every second with you is a favorite memory.",
      "You make ordinary moments feel magical.",
      "From “I like you” to “I love you” — my favorite journey.",
      "The way you look at me when I talk — I never felt so heard.",
      "A thousand lifetimes wouldn’t be enough with you.",
      "Even silence feels like love when I’m with you.",
      "We’re not perfect, but we’re perfect for each other.",
      "5 months down, forever to go — I love you, Janu."
    ];

    const slideshow = document.getElementById('slideshow');
    const poemText = document.getElementById('poem-text');

    function startSlideshow() {
      intros.forEach(t => t.style.display = 'none');
      document.body.style.background = '#ffb6c1';

      let index = 1;
      function showSlide() {
        if (index > 15) {
          heartContainer.style.display = 'none';
          setTimeout(() => {
            poemText.classList.add('show');
          }, 1000);
          return;
        }

        const slide = document.createElement('div');
        slide.className = 'slide';
        slide.innerHTML = `
          <img src="${index}.jpg" class="image" />
          <div class="caption">${captions[index - 1]}</div>
        `;
        slideshow.innerHTML = '';
        slideshow.appendChild(slide);

        setTimeout(() => {
          slide.classList.add('show');
        }, 100);

        setTimeout(() => {
          slide.classList.remove('show');
        }, 3000);

        index++;
        setTimeout(showSlide, 4000);
      }

      showSlide();
    }
  </script>
</body>
</html>
